<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Songs - JNJ Website</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="animated-background.css">
    <script src="page-transitions.js" defer></script>
    <script src="animated-background.js" defer></script>
</head>
<body>
    <div class="container">
        <div class="top-controls">
            <a href="index.html" class="about-button">← Back to Home</a>
        </div>
        
        <header>
            <h1>JNJ Songs</h1>
            <p class="subtitle">Original compositions by JNJ</p>
        </header>

        <main>
            <div class="song-card" data-title="stolen" data-description="music song nathan jaxon junhu">
                <a href="stolen.html" class="song-link">
                    <div class="song-button">
                        <img src="favicon.png" alt="Stolen" class="song-image">
                        <div class="song-info">
                            <h2>Stolen</h2>
                            <p>by JNJ (Junhu Choi, Jaxon Croskey, Nathan DeLuca)</p>
                        </div>
                    </div>
                    <span class="recent-indicator" title="Recently visited">⭐</span>
                </a>
            </div>
            <div class="song-card" data-title="phantoms paradise" data-description="music song nathan jaxon junhu">
                <a href="phantomsparadise.html" class="song-link">
                    <div class="song-button">
                        <img src="favicon.png" alt="Phantom's Paradise" class="song-image">
                        <div class="song-info">
                            <h2>Phantom's Paradise</h2>
                            <p>by JNJ (Junhu Choi, Jaxon Croskey, Nathan DeLuca)</p>
                        </div>
                    </div>
                    <span class="recent-indicator" title="Recently visited">⭐</span>
                </a>
            </div>
            <div class="song-card" data-title="a sad truth" data-description="music song nathan jaxon junhu">
                <a href="asadtruth.html" class="song-link">
                    <div class="song-button">
                        <img src="favicon.png" alt="A Sad Truth" class="song-image">
                        <div class="song-info">
                            <h2>A Sad Truth</h2>
                            <p>by JNJ (Junhu Choi, Jaxon Croskey, Nathan DeLuca)</p>
                        </div>
                    </div>
                    <span class="recent-indicator" title="Recently visited">⭐</span>
                </a>
            </div>
            <div class="song-card" data-title="you and i" data-description="music song nathan jaxon junhu">
                <a href="youandi.html" class="song-link">
                    <div class="song-button">
                        <img src="favicon.png" alt="You and I" class="song-image">
                        <div class="song-info">
                            <h2>You and I</h2>
                            <p>by JNJ (Junhu Choi, Jaxon Croskey, Nathan DeLuca)</p>
                        </div>
                    </div>
                    <span class="recent-indicator" title="Recently visited">⭐</span>
                </a>
            </div>
            <div class="song-card" data-title="meow" data-description="music song nathan jaxon junhu">
                <a href="meow.html" class="song-link">
                    <div class="song-button">
                        <img src="favicon.png" alt="Meow" class="song-image">
                        <div class="song-info">
                            <h2>Meow</h2>
                            <p>by JNJ (Junhu Choi, Jaxon Croskey, Nathan DeLuca)</p>
                        </div>
                    </div>
                    <span class="recent-indicator" title="Recently visited">⭐</span>
                </a>
            </div>
            <div class="song-card" data-title="woops" data-description="music song nathan jaxon junhu">
                <a href="woops.html" class="song-link">
                    <div class="song-button">
                        <img src="favicon.png" alt="Woops" class="song-image">
                        <div class="song-info">
                            <h2>Woops</h2>
                            <p>by JNJ (Junhu Choi, Jaxon Croskey, Nathan DeLuca)</p>
                        </div>
                    </div>
                    <span class="recent-indicator" title="Recently visited">⭐</span>
                </a>
            </div>
        </main>

        <footer class="footer">
            <p class="footer-text">Built with creativity and collaboration</p>
            <p class="footer-year">© 2025 JNJ</p>
        </footer>
    </div>

    <script>
        // Recently Visited Tracking
        function trackPageVisit(page) {
            const recentPages = JSON.parse(localStorage.getItem('jjnRecentPages') || '[]');
            const index = recentPages.indexOf(page);
            if (index > -1) {
                recentPages.splice(index, 1);
            }
            recentPages.unshift(page);
            if (recentPages.length > 5) {
                recentPages.pop();
            }
            localStorage.setItem('jjnRecentPages', JSON.stringify(recentPages));
        }
        
        function showRecentIndicators() {
            const recentPages = JSON.parse(localStorage.getItem('jjnRecentPages') || '[]');
            const pageMap = {
                'stolen.html': 'stolen',
                'phantomsparadise.html': 'phantoms paradise',
                'asadtruth.html': 'a sad truth',
                'youandi.html': 'you and i',
                'meow.html': 'meow',
                'woops.html': 'woops',
            };
            
            const songCards = document.querySelectorAll('.song-card');
            songCards.forEach(card => {
                const link = card.querySelector('a');
                const href = link.getAttribute('href');
                const pageName = pageMap[href] || href.replace('.html', '');
                
                const indicator = card.querySelector('.recent-indicator');
                if (recentPages.includes(href)) {
                    indicator.style.display = 'block';
                } else {
                    indicator.style.display = 'none';
                }
            });
        }
        
        // Track when user clicks a link
        document.querySelectorAll('.song-link').forEach(link => {
            link.addEventListener('click', () => {
                const href = link.getAttribute('href');
                trackPageVisit(href);
            });
        });
        
        // Show indicators on page load
        showRecentIndicators();
        
        // Cursor Trail Effect - Smooth line effect
        const trails = [];
        const maxTrails = 50;
        let lastTime = 0;
        
        function createCursorTrail(x, y, delay = 0) {
            setTimeout(() => {
                const trail = document.createElement('div');
                trail.className = 'cursor-trail';
                trail.style.left = x + 'px';
                trail.style.top = y + 'px';
                trail.style.opacity = '0.6';
                document.body.appendChild(trail);
                
                requestAnimationFrame(() => {
                    trail.style.opacity = '0';
                    trail.style.transform = 'translate(-50%, -50%) scale(0.2)';
                });
                
                setTimeout(() => {
                    if (trail.parentNode) {
                        trail.remove();
                    }
                }, 800);
                
                trails.push(trail);
                if (trails.length > maxTrails) {
                    const oldTrail = trails.shift();
                    if (oldTrail && oldTrail.parentNode) {
                        oldTrail.remove();
                    }
                }
            }, delay);
        }
        
        let lastX = 0;
        let lastY = 0;
        let mouseX = 0;
        let mouseY = 0;
        
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            
            const now = Date.now();
            const timeSinceLastTrail = now - lastTime;
            
            if (timeSinceLastTrail > 8) {
                const distance = Math.sqrt(
                    Math.pow(mouseX - lastX, 2) + Math.pow(mouseY - lastY, 2)
                );
                
                if (distance > 2) {
                    createCursorTrail(mouseX, mouseY);
                    lastX = mouseX;
                    lastY = mouseY;
                    lastTime = now;
                }
            }
        });
        
        // Sparkle effect for song cards
        function createSparkle(element, x, y) {
            const sparkle = document.createElement('span');
            const sparkles = ['✨', '⭐'];
            sparkle.textContent = sparkles[Math.floor(Math.random() * sparkles.length)];
            sparkle.style.position = 'absolute';
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.fontSize = (8 + Math.random() * 6) + 'px';
            sparkle.style.pointerEvents = 'none';
            sparkle.style.zIndex = '1000';
            sparkle.style.opacity = '1';
            sparkle.style.userSelect = 'none';
            sparkle.style.transform = 'translate(-50%, -50%)';
            
            // Random direction
            const angle = Math.random() * Math.PI * 2;
            const distance = 40 + Math.random() * 30;
            const endX = Math.cos(angle) * distance;
            const endY = Math.sin(angle) * distance;
            const rotation = Math.random() * 360 - 180;
            
            element.appendChild(sparkle);
            
            // Animate
            sparkle.animate([
                {
                    transform: 'translate(-50%, -50%) scale(1) rotate(0deg)',
                    opacity: 1
                },
                {
                    transform: `translate(calc(-50% + ${endX}px), calc(-50% + ${endY}px)) scale(0.2) rotate(${rotation}deg)`,
                    opacity: 0
                }
            ], {
                duration: 600 + Math.random() * 300,
                easing: 'ease-out',
                fill: 'forwards'
            });
            
            // Remove after animation
            setTimeout(() => {
                if (sparkle.parentNode) {
                    sparkle.remove();
                }
            }, 1000);
        }
        
        // Add sparkle effect to all song cards
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.song-card').forEach(card => {
                let sparkleInterval;
                
                card.addEventListener('mouseenter', () => {
                    // Create sparkles continuously while hovering
                    sparkleInterval = setInterval(() => {
                        const cardRect = card.getBoundingClientRect();
                        const mouseX = window.mouseX || cardRect.left + cardRect.width / 2;
                        const mouseY = window.mouseY || cardRect.top + cardRect.height / 2;
                        
                        // Convert to relative position within card
                        const relativeX = mouseX - cardRect.left;
                        const relativeY = mouseY - cardRect.top;
                        
                        // Create a sparkle
                        createSparkle(card, relativeX, relativeY);
                    }, 150); // Create sparkle every 150ms while hovering
                });
                
                card.addEventListener('mouseleave', () => {
                    if (sparkleInterval) {
                        clearInterval(sparkleInterval);
                    }
                });
                
                card.addEventListener('mousemove', (e) => {
                    // Store mouse position for sparkle creation
                    window.mouseX = e.clientX;
                    window.mouseY = e.clientY;
                });
            });
        });
    </script>
</body>
</html>

