<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JNJ Website</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="container">
        <div class="top-controls">
            <div class="search-wrapper">
                <input 
                    type="text" 
                    id="searchInput" 
                    class="search-input" 
                    placeholder="Search pages..."
                    autocomplete="off"
                >
                <span class="search-icon">üîç</span>
            </div>
            <a href="about.html" class="about-button">About Us</a>
        </div>
        
        <header>
            <h1>JNJ Website</h1>
            <p class="subtitle">JNJ ‚Ä¢ Junhu Choi ‚Ä¢ Jaxon Croskey ‚Ä¢ Nathan DeLuca</p>
        </header>

        <section class="intro-section">
            <p class="intro-text">Welcome to our collaborative space! Explore our creative projects, tools, and creations.</p>
        </section>

        <section class="features-section">
            <div class="feature-item">
                <div class="feature-icon">üéµ</div>
                <h3>Music</h3>
                <p>Original compositions</p>
            </div>
            <div class="feature-item">
                <div class="feature-icon">üíª</div>
                <h3>Tools</h3>
                <p>Interactive utilities</p>
            </div>
            <div class="feature-item">
                <div class="feature-icon">üé®</div>
                <h3>Creative</h3>
                <p>Art & design tools</p>
            </div>
            <div class="feature-item">
                <div class="feature-icon">üí¨</div>
                <h3>Collaborate</h3>
                <p>Work together</p>
            </div>
        </section>
        
        <main>
            <div class="song-card" data-title="stolen" data-description="music song nathan jaxon junhu">
                <a href="stolen.html" class="song-link">
                    <div class="song-button">
                        <img src="favicon.png" alt="Stolen" class="song-image">
                        <div class="song-info">
                            <h2>Stolen</h2>
                            <p>by JNJ (Junhu Choi, Jaxon Croskey, Nathan DeLuca)</p>
                        </div>
                    </div>
                    <span class="recent-indicator" title="Recently visited">‚≠ê</span>
                </a>
            </div>
            <div class="song-card" data-title="code editor" data-description="code programming editor interactive">
                <a href="codeeditor.html" class="song-link">
                    <div class="song-button">
                        <img src="codeicon.png" alt="Code Editor" class="song-image">
                        <div class="song-info">
                            <h2>Code Editor</h2>
                            <p>Interactive code editor</p>
                        </div>
                    </div>
                    <span class="recent-indicator" title="Recently visited">‚≠ê</span>
                </a>
            </div>
            <div class="song-card" data-title="chat" data-description="collaborative messaging communication">
                <a href="chat.html" class="song-link">
                    <div class="song-button">
                        <div class="song-image" style="background: linear-gradient(135deg, #4a9eff 0%, #2563eb 100%); display: flex; align-items: center; justify-content: center; font-size: 48px; color: white;">üí¨</div>
                        <div class="song-info">
                            <h2>Chat</h2>
                            <p>Collaborative messaging</p>
                        </div>
                    </div>
                    <span class="recent-indicator" title="Recently visited">‚≠ê</span>
                </a>
            </div>
            <div class="song-card" data-title="image editor" data-description="image edit create art design">
                <a href="imageeditor.html" class="song-link">
                    <div class="song-button">
                        <div class="song-image" style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); display: flex; align-items: center; justify-content: center; font-size: 48px; color: white;">üé®</div>
                        <div class="song-info">
                            <h2>Image Editor</h2>
                            <p>Edit and create images</p>
                        </div>
                    </div>
                    <span class="recent-indicator" title="Recently visited">‚≠ê</span>
                </a>
            </div>
        </main>

        <footer class="footer">
            <p class="footer-text">Built with creativity and collaboration</p>
            <p class="footer-year">¬© 2025 JNJ</p>
        </footer>
    </div>

    <script>
        // Search/Filter
        const searchInput = document.getElementById('searchInput');
        const songCards = document.querySelectorAll('.song-card');
        
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase().trim();
            
            songCards.forEach(card => {
                const title = card.dataset.title || '';
                const description = card.dataset.description || '';
                const text = `${title} ${description}`.toLowerCase();
                
                if (searchTerm === '' || text.includes(searchTerm)) {
                    card.style.display = '';
                } else {
                    card.style.display = 'none';
                }
            });
        });
        
        // Recently Visited Tracking
        function trackPageVisit(page) {
            const recentPages = JSON.parse(localStorage.getItem('jjnRecentPages') || '[]');
            // Remove if already exists
            const index = recentPages.indexOf(page);
            if (index > -1) {
                recentPages.splice(index, 1);
            }
            // Add to front
            recentPages.unshift(page);
            // Keep only last 5
            if (recentPages.length > 5) {
                recentPages.pop();
            }
            localStorage.setItem('jjnRecentPages', JSON.stringify(recentPages));
        }
        
        function showRecentIndicators() {
            const recentPages = JSON.parse(localStorage.getItem('jjnRecentPages') || '[]');
            const pageMap = {
                'stolen.html': 'stolen',
                'codeeditor.html': 'code editor',
                'chat.html': 'chat',
                'imageeditor.html': 'image editor',
            };
            
            songCards.forEach(card => {
                const link = card.querySelector('a');
                const href = link.getAttribute('href');
                const pageName = pageMap[href] || href.replace('.html', '');
                
                const indicator = card.querySelector('.recent-indicator');
                if (recentPages.includes(href)) {
                    indicator.style.display = 'block';
                } else {
                    indicator.style.display = 'none';
                }
            });
        }
        
        // Track when user clicks a link
        document.querySelectorAll('.song-link').forEach(link => {
            link.addEventListener('click', () => {
                const href = link.getAttribute('href');
                trackPageVisit(href);
            });
        });
        
        // Show indicators on page load
        showRecentIndicators();
        
        // Cursor Trail Effect - Smooth line effect
        const trails = [];
        const maxTrails = 50;
        let lastTime = 0;
        
        function createCursorTrail(x, y, delay = 0) {
            setTimeout(() => {
                // Create new trail element
                const trail = document.createElement('div');
                trail.className = 'cursor-trail';
                trail.style.left = x + 'px';
                trail.style.top = y + 'px';
                trail.style.opacity = '0.6';
                document.body.appendChild(trail);
                
                // Smooth fade out
                requestAnimationFrame(() => {
                    trail.style.opacity = '0';
                    trail.style.transform = 'translate(-50%, -50%) scale(0.2)';
                });
                
                // Remove after animation
                setTimeout(() => {
                    if (trail.parentNode) {
                        trail.remove();
                    }
                }, 800);
                
                // Store for cleanup
                trails.push(trail);
                if (trails.length > maxTrails) {
                    const oldTrail = trails.shift();
                    if (oldTrail && oldTrail.parentNode) {
                        oldTrail.remove();
                    }
                }
            }, delay);
        }
        
        // Track mouse movement with smooth interpolation
        let lastX = 0;
        let lastY = 0;
        let mouseX = 0;
        let mouseY = 0;
        
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            
            const now = Date.now();
            const timeSinceLastTrail = now - lastTime;
            
            // Create trail very frequently for continuous line effect
            if (timeSinceLastTrail > 8) { // ~120fps for smoother line
                const distance = Math.sqrt(
                    Math.pow(mouseX - lastX, 2) + Math.pow(mouseY - lastY, 2)
                );
                
                // Create dots closer together for continuous line
                if (distance > 2) {
                    createCursorTrail(mouseX, mouseY);
                    lastX = mouseX;
                    lastY = mouseY;
                    lastTime = now;
                }
            }
        });
    </script>
</body>
</html>
